2025-05-04 11:03:59.226 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-04 11:03:59.355 +07:00 [DBG] Hosting starting
2025-05-04 11:03:59.372 +07:00 [INF] User profile is available. Using 'C:\Users\KHOA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-04 11:03:59.385 +07:00 [DBG] Reading data from file 'C:\Users\KHOA\AppData\Local\ASP.NET\DataProtection-Keys\key-1a51a872-ea43-4350-815f-0422835a65dd.xml'.
2025-05-04 11:03:59.395 +07:00 [DBG] Found key {1a51a872-ea43-4350-815f-0422835a65dd}.
2025-05-04 11:03:59.409 +07:00 [DBG] Considering key {1a51a872-ea43-4350-815f-0422835a65dd} with expiration date 2025-07-05 19:31:04Z as default key.
2025-05-04 11:03:59.417 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-04 11:03:59.422 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-04 11:03:59.424 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-04 11:03:59.430 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-04 11:03:59.436 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-04 11:03:59.438 +07:00 [DBG] Using key {1a51a872-ea43-4350-815f-0422835a65dd} as the default key.
2025-05-04 11:03:59.441 +07:00 [DBG] Key ring with default key {1a51a872-ea43-4350-815f-0422835a65dd} was loaded during application startup.
2025-05-04 11:03:59.490 +07:00 [INF] Now listening on: http://localhost:5120
2025-05-04 11:03:59.492 +07:00 [DBG] Loaded hosting startup assembly ExchangeDocument
2025-05-04 11:03:59.494 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-04 11:03:59.495 +07:00 [INF] Hosting environment: Development
2025-05-04 11:03:59.496 +07:00 [INF] Content root path: D:\Gộp module Auth\ExchangeDocument(Tự làm Auth_User) - Đã làm logout(2)\ExchangeDocument
2025-05-04 11:03:59.497 +07:00 [DBG] Hosting started
2025-05-04 11:14:24.090 +07:00 [DBG] Connection id "0HNCAO8JHNAOA" accepted.
2025-05-04 11:14:24.094 +07:00 [DBG] Connection id "0HNCAO8JHNAOA" started.
2025-05-04 11:14:24.096 +07:00 [DBG] Connection id "0HNCAO8JHNAOB" accepted.
2025-05-04 11:14:24.098 +07:00 [DBG] Connection id "0HNCAO8JHNAOB" started.
2025-05-04 11:14:24.145 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/swagger/index.html - null null
2025-05-04 11:14:24.150 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-04 11:14:24.175 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-04 11:14:24.177 +07:00 [DBG] Request did not match any endpoints
2025-05-04 11:14:24.283 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 99.5517 ms
2025-05-04 11:14:24.290 +07:00 [DBG] Connection id "0HNCAO8JHNAOA" completed keep alive response.
2025-05-04 11:14:24.296 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/swagger/index.html - 200 null text/html;charset=utf-8 151.7922ms
2025-05-04 11:14:25.460 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/swagger/v1/swagger.json - null null
2025-05-04 11:14:25.464 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-04 11:14:25.465 +07:00 [DBG] Request did not match any endpoints
2025-05-04 11:14:25.640 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 173.3908 ms
2025-05-04 11:14:25.643 +07:00 [DBG] Connection id "0HNCAO8JHNAOA" completed keep alive response.
2025-05-04 11:14:25.644 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 183.8349ms
2025-05-04 11:14:31.981 +07:00 [INF] Application is shutting down...
2025-05-04 11:14:31.982 +07:00 [DBG] Hosting stopping
2025-05-04 11:14:31.994 +07:00 [DBG] Connection id "0HNCAO8JHNAOA" disconnecting.
2025-05-04 11:14:31.995 +07:00 [DBG] Connection id "0HNCAO8JHNAOB" disconnecting.
2025-05-04 11:14:31.999 +07:00 [DBG] Connection id "0HNCAO8JHNAOA" stopped.
2025-05-04 11:14:31.999 +07:00 [DBG] Connection id "0HNCAO8JHNAOB" stopped.
2025-05-04 11:14:32.002 +07:00 [DBG] Connection id "0HNCAO8JHNAOA" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-04 11:14:32.003 +07:00 [DBG] Connection id "0HNCAO8JHNAOB" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-04 11:14:32.008 +07:00 [DBG] Hosting stopped
2025-05-04 14:05:44.189 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-04 14:05:44.453 +07:00 [DBG] Hosting starting
2025-05-04 14:05:44.470 +07:00 [INF] User profile is available. Using 'C:\Users\KHOA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-04 14:05:44.491 +07:00 [DBG] Reading data from file 'C:\Users\KHOA\AppData\Local\ASP.NET\DataProtection-Keys\key-1a51a872-ea43-4350-815f-0422835a65dd.xml'.
2025-05-04 14:05:44.521 +07:00 [DBG] Found key {1a51a872-ea43-4350-815f-0422835a65dd}.
2025-05-04 14:05:44.533 +07:00 [DBG] Considering key {1a51a872-ea43-4350-815f-0422835a65dd} with expiration date 2025-07-05 19:31:04Z as default key.
2025-05-04 14:05:44.544 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-04 14:05:44.549 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-04 14:05:44.553 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-04 14:05:44.563 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-04 14:05:44.569 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-04 14:05:44.576 +07:00 [DBG] Using key {1a51a872-ea43-4350-815f-0422835a65dd} as the default key.
2025-05-04 14:05:44.578 +07:00 [DBG] Key ring with default key {1a51a872-ea43-4350-815f-0422835a65dd} was loaded during application startup.
2025-05-04 14:05:44.622 +07:00 [INF] Now listening on: http://localhost:5120
2025-05-04 14:05:44.626 +07:00 [DBG] Loaded hosting startup assembly ExchangeDocument
2025-05-04 14:05:44.629 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-04 14:05:44.632 +07:00 [INF] Hosting environment: Development
2025-05-04 14:05:44.633 +07:00 [INF] Content root path: D:\Gộp module Auth\ExchangeDocument(Tự làm Auth_User) - Đã làm logout(2)\ExchangeDocument
2025-05-04 14:05:44.633 +07:00 [DBG] Hosting started
2025-05-04 14:05:50.365 +07:00 [DBG] Connection id "0HNCAR8D39D9N" accepted.
2025-05-04 14:05:50.370 +07:00 [DBG] Connection id "0HNCAR8D39D9N" started.
2025-05-04 14:05:50.371 +07:00 [DBG] Connection id "0HNCAR8D39D9O" accepted.
2025-05-04 14:05:50.374 +07:00 [DBG] Connection id "0HNCAR8D39D9O" started.
2025-05-04 14:05:50.422 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/swagger/index.html - null null
2025-05-04 14:05:50.430 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-04 14:05:50.460 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-04 14:05:50.463 +07:00 [DBG] Request did not match any endpoints
2025-05-04 14:05:50.586 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 118.5892 ms
2025-05-04 14:05:50.589 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:05:50.594 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/swagger/index.html - 200 null text/html;charset=utf-8 172.9791ms
2025-05-04 14:05:51.198 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/swagger/v1/swagger.json - null null
2025-05-04 14:05:51.201 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-04 14:05:51.203 +07:00 [DBG] Request did not match any endpoints
2025-05-04 14:05:51.384 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 180.2299 ms
2025-05-04 14:05:51.388 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:05:51.391 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 192.4208ms
2025-05-04 14:05:59.939 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/api/Users/me - null null
2025-05-04 14:05:59.947 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/me'
2025-05-04 14:05:59.955 +07:00 [DBG] Endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)' with route pattern 'api/Users/me' is valid for the request path '/api/Users/me'
2025-05-04 14:05:59.959 +07:00 [DBG] Request matched endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:05:59.967 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-04 14:05:59.970 +07:00 [WRN] Failed to determine the https port for redirect.
2025-05-04 14:06:00.947 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-04 14:06:00.955 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-05-04 14:06:00.961 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-04 14:06:00.968 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-04 14:06:00.974 +07:00 [INF] HTTP GET /api/Users/me responded 401 in 1010.8488 ms
2025-05-04 14:06:00.978 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:06:00.979 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/api/Users/me - 401 0 null 1039.6192ms
2025-05-04 14:06:33.578 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5120/api/Auth/login - application/json 66
2025-05-04 14:06:33.584 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-05-04 14:06:33.585 +07:00 [DBG] Endpoint 'ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-05-04 14:06:33.588 +07:00 [DBG] Request matched endpoint 'ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument)'
2025-05-04 14:06:33.591 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-04 14:06:33.599 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-04 14:06:33.602 +07:00 [INF] Executing endpoint 'ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument)'
2025-05-04 14:06:33.643 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO) on controller ExchangeDocument.PresentationLayer.Controllers.AuthController (ExchangeDocument).
2025-05-04 14:06:33.647 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-04 14:06:33.648 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-04 14:06:33.650 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-04 14:06:33.654 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-04 14:06:33.656 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-04 14:06:33.661 +07:00 [DBG] Executing controller factory for controller ExchangeDocument.PresentationLayer.Controllers.AuthController (ExchangeDocument)
2025-05-04 14:06:33.950 +07:00 [DBG] An 'IServiceProvider' was created for internal use by Entity Framework.
2025-05-04 14:06:33.977 +07:00 [DBG] Executed controller factory for controller ExchangeDocument.PresentationLayer.Controllers.AuthController (ExchangeDocument)
2025-05-04 14:06:33.983 +07:00 [DBG] Attempting to bind parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO' ...
2025-05-04 14:06:33.986 +07:00 [DBG] Attempting to bind parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO' using the name '' in request data ...
2025-05-04 14:06:33.991 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-04 14:06:34.016 +07:00 [DBG] Connection id "0HNCAR8D39D9N", Request id "0HNCAR8D39D9N:00000004": started reading request body.
2025-05-04 14:06:34.019 +07:00 [DBG] Connection id "0HNCAR8D39D9N", Request id "0HNCAR8D39D9N:00000004": done reading request body.
2025-05-04 14:06:34.030 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO'
2025-05-04 14:06:34.032 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO'.
2025-05-04 14:06:34.034 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO'.
2025-05-04 14:06:34.036 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO' ...
2025-05-04 14:06:34.047 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO'.
2025-05-04 14:06:34.457 +07:00 [WRN] Entity 'Document' has a global query filter defined and is the required end of a relationship with the entity 'OrderDetail'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-05-04 14:06:34.460 +07:00 [WRN] Entity 'Document' has a global query filter defined and is the required end of a relationship with the entity 'Review'. This may lead to unexpected results when the required entity is filtered out. Either configure the navigation as optional, or define matching query filters for both entities in the navigation. See https://go.microsoft.com/fwlink/?linkid=2131316 for more information.
2025-05-04 14:06:34.579 +07:00 [DBG] Entity Framework Core 9.0.4 initialized 'ExchangeDocumentContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-04 14:06:34.785 +07:00 [DBG] Compiling query expression: 
'DbSet<User>()
    .Include(u => u.Role)
    .FirstOrDefault(u => u.Email == __email_0)'
2025-05-04 14:06:34.837 +07:00 [DBG] Including navigation: 'User.Role'.
2025-05-04 14:06:35.017 +07:00 [DBG] Generated query execution expression: 
'queryContext => ShapedQueryCompilingExpressionVisitor.SingleOrDefaultAsync<User>(
    asyncEnumerable: SingleQueryingEnumerable.Create<User>(
        relationalQueryContext: (RelationalQueryContext)queryContext, 
        relationalCommandResolver: parameters => [LIFTABLE Constant: RelationalCommandCache.QueryExpression(
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required Index MaxLength(255), 2], [Property: User.FullName (string) Required MaxLength(255), 3], [Property: User.IsEmailVerified (bool) Required, 4], [Property: User.Password (string) Required MaxLength(255), 5], [Property: User.PasswordResetToken (string), 6], [Property: User.Phone (string) MaxLength(20), 7], [Property: User.ResetTokenExpires (DateTime?), 8], [Property: User.RoleId (int) Required FK Index ValueGenerated.OnAdd, 9], [Property: User.UpdatedAt (DateTime?), 10] }
                1 -> Dictionary<IProperty, int> { [Property: Role.RoleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Role.RoleName (string) Required Index MaxLength(50), 12] }
            SELECT TOP(1) u.userId, u.CreatedAt, u.email, u.fullName, u.IsEmailVerified, u.password, u.PasswordResetToken, u.phone, u.ResetTokenExpires, u.roleId, u.UpdatedAt, r.roleId, r.roleName
            FROM users AS u
            INNER JOIN roles AS r ON u.roleId == r.roleId
            WHERE u.email == @__email_0) | Resolver: c => new RelationalCommandCache(
            c.Dependencies.MemoryCache, 
            c.RelationalDependencies.QuerySqlGeneratorFactory, 
            c.RelationalDependencies.RelationalParameterBasedSqlProcessorFactory, 
            Client Projections:
                0 -> Dictionary<IProperty, int> { [Property: User.UserId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 0], [Property: User.CreatedAt (DateTime) Required, 1], [Property: User.Email (string) Required Index MaxLength(255), 2], [Property: User.FullName (string) Required MaxLength(255), 3], [Property: User.IsEmailVerified (bool) Required, 4], [Property: User.Password (string) Required MaxLength(255), 5], [Property: User.PasswordResetToken (string), 6], [Property: User.Phone (string) MaxLength(20), 7], [Property: User.ResetTokenExpires (DateTime?), 8], [Property: User.RoleId (int) Required FK Index ValueGenerated.OnAdd, 9], [Property: User.UpdatedAt (DateTime?), 10] }
                1 -> Dictionary<IProperty, int> { [Property: Role.RoleId (int) Required PK AfterSave:Throw ValueGenerated.OnAdd, 11], [Property: Role.RoleName (string) Required Index MaxLength(50), 12] }
            SELECT TOP(1) u.userId, u.CreatedAt, u.email, u.fullName, u.IsEmailVerified, u.password, u.PasswordResetToken, u.phone, u.ResetTokenExpires, u.roleId, u.UpdatedAt, r.roleId, r.roleName
            FROM users AS u
            INNER JOIN roles AS r ON u.roleId == r.roleId
            WHERE u.email == @__email_0, 
            False, 
            new HashSet<string>(
                new string[]{ }, 
                StringComparer.Ordinal
            )
        )].GetRelationalCommandTemplate(parameters), 
        readerColumns: null, 
        shaper: (queryContext, dataReader, resultContext, resultCoordinator) => 
        {
            User entity;
            Role entity;
            entity = 
            {
                MaterializationContext materializationContext1;
                IEntityType entityType1;
                User instance1;
                InternalEntityEntry entry1;
                bool hasNullKey1;
                materializationContext1 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance1 = default(User);
                entry1 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: User.UserId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.User").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(0) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey1);
                !(hasNullKey1) ? entry1 != default(InternalEntityEntry) ? 
                {
                    entityType1 = entry1.EntityType;
                    return instance1 = (User)entry1.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot1;
                    shadowSnapshot1 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType1 = [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{0} => namelessParameter{0}.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.User")];
                    instance1 = switch (entityType1)
                    {
                        case [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{1} => namelessParameter{1}.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.User")]: 
                            {
                                return 
                                {
                                    User instance;
                                    instance = new User();
                                    instance.<UserId>k__BackingField = dataReader.GetInt32(0);
                                    instance.<CreatedAt>k__BackingField = dataReader.GetDateTime(1);
                                    instance.<Email>k__BackingField = dataReader.GetString(2);
                                    instance.<FullName>k__BackingField = dataReader.GetString(3);
                                    instance.<IsEmailVerified>k__BackingField = dataReader.GetBoolean(4);
                                    instance.<Password>k__BackingField = dataReader.GetString(5);
                                    instance.<PasswordResetToken>k__BackingField = dataReader.IsDBNull(6) ? default(string) : dataReader.GetString(6);
                                    instance.<Phone>k__BackingField = dataReader.IsDBNull(7) ? default(string) : dataReader.GetString(7);
                                    instance.<ResetTokenExpires>k__BackingField = dataReader.IsDBNull(8) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(8);
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(9);
                                    instance.<UpdatedAt>k__BackingField = dataReader.IsDBNull(10) ? default(DateTime?) : (DateTime?)dataReader.GetDateTime(10);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext1.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: User | Resolver: namelessParameter{2} => namelessParameter{2}.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.User")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(User)
                    }
                    ;
                    entry1 = entityType1 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType1, 
                        entity: instance1, 
                        snapshot: shadowSnapshot1);
                    return instance1;
                } : default(void);
                return instance1;
            };
            entity = 
            {
                MaterializationContext materializationContext2;
                IEntityType entityType2;
                Role instance2;
                InternalEntityEntry entry2;
                bool hasNullKey2;
                materializationContext2 = new MaterializationContext(
                    [LIFTABLE Constant: ValueBuffer | Resolver: _ => (object)ValueBuffer.Empty], 
                    queryContext.Context
                );
                instance2 = default(Role);
                entry2 = queryContext.TryGetEntry(
                    key: [LIFTABLE Constant: Key: Role.RoleId PK | Resolver: c => c.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.Role").FindPrimaryKey()], 
                    keyValues: new object[]{ (object)dataReader.GetInt32(11) }, 
                    throwOnNullKey: True, 
                    hasNullKey: hasNullKey2);
                !(hasNullKey2) ? entry2 != default(InternalEntityEntry) ? 
                {
                    entityType2 = entry2.EntityType;
                    return instance2 = (Role)entry2.Entity;
                } : 
                {
                    ISnapshot shadowSnapshot2;
                    shadowSnapshot2 = [LIFTABLE Constant: Snapshot | Resolver: _ => Snapshot.Empty];
                    entityType2 = [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{3} => namelessParameter{3}.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.Role")];
                    instance2 = switch (entityType2)
                    {
                        case [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{4} => namelessParameter{4}.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.Role")]: 
                            {
                                return 
                                {
                                    Role instance;
                                    instance = new Role();
                                    instance.<RoleId>k__BackingField = dataReader.GetInt32(11);
                                    instance.<RoleName>k__BackingField = dataReader.GetString(12);
                                    (instance is IInjectableService) ? ((IInjectableService)instance).Injected(
                                        context: materializationContext2.Context, 
                                        entity: instance, 
                                        queryTrackingBehavior: TrackAll, 
                                        structuralType: [LIFTABLE Constant: EntityType: Role | Resolver: namelessParameter{5} => namelessParameter{5}.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.Role")]) : default(void);
                                    return instance;
                                }}
                        default: 
                            default(Role)
                    }
                    ;
                    entry2 = entityType2 == default(IEntityType) ? default(InternalEntityEntry) : queryContext.StartTracking(
                        entityType: entityType2, 
                        entity: instance2, 
                        snapshot: shadowSnapshot2);
                    return instance2;
                } : default(void);
                return instance2;
            };
            ShaperProcessingExpressionVisitor.IncludeReference<User, User, Role>(
                queryContext: queryContext, 
                entity: entity, 
                relatedEntity: entity, 
                navigation: [LIFTABLE Constant: Navigation: User.Role (Role) ToPrincipal Role Inverse: Users | Resolver: namelessParameter{6} => namelessParameter{6}.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.User").FindNavigation("Role")], 
                inverseNavigation: [LIFTABLE Constant: Navigation: Role.Users (ICollection<User>) Collection ToDependent User Inverse: Role | Resolver: namelessParameter{7} => namelessParameter{7}.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.Role").FindNavigation("Users")], 
                fixup: (namelessParameter{8}, namelessParameter{9}) => 
                {
                    namelessParameter{8}.<Role>k__BackingField = namelessParameter{9};
                    return [LIFTABLE Constant: ClrICollectionAccessor<Role, ICollection<User>, User> | Resolver: namelessParameter{10} => namelessParameter{10}.Dependencies.Model.FindEntityType("ExchangeDocument.DataAccessLayer.Entities.Role").FindNavigation("Users").GetCollectionAccessor()].Add(
                        entity: namelessParameter{9}, 
                        value: namelessParameter{8}, 
                        forMaterialization: True);
                }, 
                trackingQuery: True);
            return entity;
        }, 
        contextType: ExchangeDocument.DataAccessLayer.Data.ExchangeDocumentContext, 
        standAloneStateManager: False, 
        detailedErrorsEnabled: False, 
        threadSafetyChecksEnabled: True), 
    cancellationToken: queryContext.CancellationToken)'
2025-05-04 14:06:35.082 +07:00 [DBG] Creating DbConnection.
2025-05-04 14:06:35.100 +07:00 [DBG] Created DbConnection. (16ms).
2025-05-04 14:06:35.104 +07:00 [DBG] Opening connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:06:35.557 +07:00 [DBG] Opened connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:06:35.561 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-04 14:06:35.566 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (3ms).
2025-05-04 14:06:35.574 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (12ms).
2025-05-04 14:06:35.579 +07:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[CreatedAt], [u].[email], [u].[fullName], [u].[IsEmailVerified], [u].[password], [u].[PasswordResetToken], [u].[phone], [u].[ResetTokenExpires], [u].[roleId], [u].[UpdatedAt], [r].[roleId], [r].[roleName]
FROM [users] AS [u]
INNER JOIN [roles] AS [r] ON [u].[roleId] = [r].[roleId]
WHERE [u].[email] = @__email_0
2025-05-04 14:06:35.665 +07:00 [INF] Executed DbCommand (87ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[CreatedAt], [u].[email], [u].[fullName], [u].[IsEmailVerified], [u].[password], [u].[PasswordResetToken], [u].[phone], [u].[ResetTokenExpires], [u].[roleId], [u].[UpdatedAt], [r].[roleId], [r].[roleName]
FROM [users] AS [u]
INNER JOIN [roles] AS [r] ON [u].[roleId] = [r].[roleId]
WHERE [u].[email] = @__email_0
2025-05-04 14:06:35.699 +07:00 [DBG] Context 'ExchangeDocumentContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-04 14:06:35.733 +07:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-04 14:06:35.741 +07:00 [DBG] Context 'ExchangeDocumentContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-04 14:06:35.748 +07:00 [DBG] Closing data reader to 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:06:35.758 +07:00 [DBG] A data reader for 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER' is being disposed after spending 83ms reading results.
2025-05-04 14:06:35.763 +07:00 [DBG] Closing connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:06:35.768 +07:00 [DBG] Closed connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER' (4ms).
2025-05-04 14:06:35.775 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-04 14:06:35.782 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-04 14:06:35.783 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-04 14:06:35.784 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-04 14:06:35.788 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-04 14:06:35.792 +07:00 [INF] Executing BadRequestObjectResult, writing value of type '<>f__AnonymousType4`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-04 14:06:35.810 +07:00 [INF] Executed action ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument) in 2149.2202ms
2025-05-04 14:06:35.813 +07:00 [INF] Executed endpoint 'ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument)'
2025-05-04 14:06:35.816 +07:00 [INF] HTTP POST /api/Auth/login responded 400 in 2224.8911 ms
2025-05-04 14:06:35.818 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:06:35.822 +07:00 [DBG] 'ExchangeDocumentContext' disposed.
2025-05-04 14:06:35.828 +07:00 [DBG] Disposing connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:06:35.830 +07:00 [DBG] Disposed connection to database '' on server '' (2ms).
2025-05-04 14:06:35.832 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5120/api/Auth/login - 400 null application/json; charset=utf-8 2254.4115ms
2025-05-04 14:07:09.766 +07:00 [DBG] Connection id "0HNCAR8D39D9O" received FIN.
2025-05-04 14:07:09.766 +07:00 [INF] Request starting HTTP/1.1 POST http://localhost:5120/api/Auth/login - application/json 64
2025-05-04 14:07:09.772 +07:00 [DBG] Connection id "0HNCAR8D39D9O" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-04 14:07:09.775 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Auth/login'
2025-05-04 14:07:09.778 +07:00 [DBG] Connection id "0HNCAR8D39D9O" disconnecting.
2025-05-04 14:07:09.779 +07:00 [DBG] Endpoint 'ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument)' with route pattern 'api/Auth/login' is valid for the request path '/api/Auth/login'
2025-05-04 14:07:09.783 +07:00 [DBG] Connection id "0HNCAR8D39D9O" stopped.
2025-05-04 14:07:09.785 +07:00 [DBG] Request matched endpoint 'ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument)'
2025-05-04 14:07:09.789 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-04 14:07:09.792 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-04 14:07:09.795 +07:00 [INF] Executing endpoint 'ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument)'
2025-05-04 14:07:09.797 +07:00 [INF] Route matched with {action = "Login", controller = "Auth"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO) on controller ExchangeDocument.PresentationLayer.Controllers.AuthController (ExchangeDocument).
2025-05-04 14:07:09.800 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-04 14:07:09.804 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-04 14:07:09.806 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-04 14:07:09.812 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-04 14:07:09.815 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-04 14:07:09.819 +07:00 [DBG] Executing controller factory for controller ExchangeDocument.PresentationLayer.Controllers.AuthController (ExchangeDocument)
2025-05-04 14:07:09.823 +07:00 [DBG] Executed controller factory for controller ExchangeDocument.PresentationLayer.Controllers.AuthController (ExchangeDocument)
2025-05-04 14:07:09.825 +07:00 [DBG] Attempting to bind parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO' ...
2025-05-04 14:07:09.826 +07:00 [DBG] Attempting to bind parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO' using the name '' in request data ...
2025-05-04 14:07:09.828 +07:00 [DBG] Selected input formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonInputFormatter' for content type 'application/json'.
2025-05-04 14:07:09.830 +07:00 [DBG] Connection id "0HNCAR8D39D9N", Request id "0HNCAR8D39D9N:00000005": started reading request body.
2025-05-04 14:07:09.832 +07:00 [DBG] Connection id "0HNCAR8D39D9N", Request id "0HNCAR8D39D9N:00000005": done reading request body.
2025-05-04 14:07:09.835 +07:00 [DBG] JSON input formatter succeeded, deserializing to type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO'
2025-05-04 14:07:09.837 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO'.
2025-05-04 14:07:09.838 +07:00 [DBG] Done attempting to bind parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO'.
2025-05-04 14:07:09.840 +07:00 [DBG] Attempting to validate the bound parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO' ...
2025-05-04 14:07:09.843 +07:00 [DBG] Done attempting to validate the bound parameter 'request' of type 'ExchangeDocument.BusinessLayer.DTOs.Auth.LoginRequestDTO'.
2025-05-04 14:07:09.858 +07:00 [DBG] Entity Framework Core 9.0.4 initialized 'ExchangeDocumentContext' using provider 'Microsoft.EntityFrameworkCore.SqlServer:9.0.4' with options: EngineType=SqlServer 
2025-05-04 14:07:09.870 +07:00 [DBG] Creating DbConnection.
2025-05-04 14:07:09.873 +07:00 [DBG] Created DbConnection. (2ms).
2025-05-04 14:07:09.876 +07:00 [DBG] Opening connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:07:09.878 +07:00 [DBG] Opened connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:07:09.879 +07:00 [DBG] Creating DbCommand for 'ExecuteReader'.
2025-05-04 14:07:09.880 +07:00 [DBG] Created DbCommand for 'ExecuteReader' (1ms).
2025-05-04 14:07:09.883 +07:00 [DBG] Initialized DbCommand for 'ExecuteReader' (3ms).
2025-05-04 14:07:09.885 +07:00 [DBG] Executing DbCommand [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[CreatedAt], [u].[email], [u].[fullName], [u].[IsEmailVerified], [u].[password], [u].[PasswordResetToken], [u].[phone], [u].[ResetTokenExpires], [u].[roleId], [u].[UpdatedAt], [r].[roleId], [r].[roleName]
FROM [users] AS [u]
INNER JOIN [roles] AS [r] ON [u].[roleId] = [r].[roleId]
WHERE [u].[email] = @__email_0
2025-05-04 14:07:09.892 +07:00 [INF] Executed DbCommand (8ms) [Parameters=[@__email_0='?' (Size = 255)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [u].[userId], [u].[CreatedAt], [u].[email], [u].[fullName], [u].[IsEmailVerified], [u].[password], [u].[PasswordResetToken], [u].[phone], [u].[ResetTokenExpires], [u].[roleId], [u].[UpdatedAt], [r].[roleId], [r].[roleName]
FROM [users] AS [u]
INNER JOIN [roles] AS [r] ON [u].[roleId] = [r].[roleId]
WHERE [u].[email] = @__email_0
2025-05-04 14:07:09.896 +07:00 [DBG] Context 'ExchangeDocumentContext' started tracking 'User' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-04 14:07:09.900 +07:00 [DBG] The navigation 'User.Role' was detected as changed. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-04 14:07:09.903 +07:00 [DBG] Context 'ExchangeDocumentContext' started tracking 'Role' entity. Consider using 'DbContextOptionsBuilder.EnableSensitiveDataLogging' to see key values.
2025-05-04 14:07:09.905 +07:00 [DBG] Closing data reader to 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:07:09.907 +07:00 [DBG] A data reader for 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER' is being disposed after spending 11ms reading results.
2025-05-04 14:07:09.909 +07:00 [DBG] Closing connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:07:09.911 +07:00 [DBG] Closed connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER' (2ms).
2025-05-04 14:07:10.183 +07:00 [INF] User nguyetnkhuyen@gmail.com logged in successfully
2025-05-04 14:07:10.185 +07:00 [DBG] List of registered output formatters, in the following order: ["Microsoft.AspNetCore.Mvc.Formatters.HttpNoContentOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StringOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.StreamOutputFormatter","Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter"]
2025-05-04 14:07:10.189 +07:00 [DBG] No information found on request to perform content negotiation.
2025-05-04 14:07:10.190 +07:00 [DBG] Attempting to select an output formatter without using a content type as no explicit content types were specified for the response.
2025-05-04 14:07:10.191 +07:00 [DBG] Attempting to select the first formatter in the output formatters list which can write the result.
2025-05-04 14:07:10.193 +07:00 [DBG] Selected output formatter 'Microsoft.AspNetCore.Mvc.Formatters.SystemTextJsonOutputFormatter' and content type 'application/json' to write the response.
2025-05-04 14:07:10.196 +07:00 [INF] Executing OkObjectResult, writing value of type '<>f__AnonymousType6`1[[System.String, System.Private.CoreLib, Version=8.0.0.0, Culture=neutral, PublicKeyToken=7cec85d7bea7798e]]'.
2025-05-04 14:07:10.201 +07:00 [INF] Executed action ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument) in 382.2892ms
2025-05-04 14:07:10.203 +07:00 [INF] Executed endpoint 'ExchangeDocument.PresentationLayer.Controllers.AuthController.Login (ExchangeDocument)'
2025-05-04 14:07:10.205 +07:00 [INF] HTTP POST /api/Auth/login responded 200 in 416.2961 ms
2025-05-04 14:07:10.207 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:07:10.208 +07:00 [DBG] 'ExchangeDocumentContext' disposed.
2025-05-04 14:07:10.209 +07:00 [DBG] Disposing connection to database 'exchangedocument' on server 'DESKTOP-6HCA7KG\KHOA_SQLSERVER'.
2025-05-04 14:07:10.210 +07:00 [DBG] Disposed connection to database '' on server '' (1ms).
2025-05-04 14:07:10.212 +07:00 [INF] Request finished HTTP/1.1 POST http://localhost:5120/api/Auth/login - 200 null application/json; charset=utf-8 445.1004ms
2025-05-04 14:07:26.289 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/api/Users/me - null null
2025-05-04 14:07:26.292 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/me'
2025-05-04 14:07:26.293 +07:00 [DBG] Endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)' with route pattern 'api/Users/me' is valid for the request path '/api/Users/me'
2025-05-04 14:07:26.297 +07:00 [DBG] Request matched endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:07:26.299 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-04 14:07:26.300 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-04 14:07:26.303 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-05-04 14:07:26.305 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-04 14:07:26.309 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-04 14:07:26.311 +07:00 [INF] HTTP GET /api/Users/me responded 401 in 12.0193 ms
2025-05-04 14:07:26.313 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:07:26.315 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/api/Users/me - 401 0 null 25.9754ms
2025-05-04 14:07:32.013 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/api/Users/me - null null
2025-05-04 14:07:32.020 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/me'
2025-05-04 14:07:32.023 +07:00 [DBG] Endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)' with route pattern 'api/Users/me' is valid for the request path '/api/Users/me'
2025-05-04 14:07:32.028 +07:00 [DBG] Request matched endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:07:32.033 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-04 14:07:32.035 +07:00 [DBG] AuthenticationScheme: Bearer was not authenticated.
2025-05-04 14:07:32.039 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-05-04 14:07:32.041 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-04 14:07:32.043 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-04 14:07:32.044 +07:00 [INF] HTTP GET /api/Users/me responded 401 in 11.6080 ms
2025-05-04 14:07:32.047 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:07:32.051 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/api/Users/me - 401 0 null 37.3308ms
2025-05-04 14:07:58.011 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/api/Users/me - null null
2025-05-04 14:07:58.017 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/me'
2025-05-04 14:07:58.021 +07:00 [DBG] Endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)' with route pattern 'api/Users/me' is valid for the request path '/api/Users/me'
2025-05-04 14:07:58.026 +07:00 [DBG] Request matched endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:07:58.030 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-04 14:07:58.068 +07:00 [DBG] Successfully validated the token.
2025-05-04 14:07:58.081 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-04 14:07:58.086 +07:00 [DBG] Authorization was successful.
2025-05-04 14:07:58.087 +07:00 [INF] Executing endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:07:58.091 +07:00 [INF] Route matched with {action = "GetMe", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller ExchangeDocument.PresentationLayer.Controllers.UsersController (ExchangeDocument).
2025-05-04 14:07:58.094 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-04 14:07:58.097 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-04 14:07:58.099 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-04 14:07:58.101 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-04 14:07:58.102 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-04 14:07:58.103 +07:00 [DBG] Executing controller factory for controller ExchangeDocument.PresentationLayer.Controllers.UsersController (ExchangeDocument)
2025-05-04 14:07:58.108 +07:00 [INF] Executed action ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument) in 4.3524ms
2025-05-04 14:07:58.110 +07:00 [INF] Executed endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:07:58.113 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ExchangeDocument.BusinessLayer.Interfaces.Services.IUserService' while attempting to activate 'ExchangeDocument.PresentationLayer.Controllers.UsersController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method162(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-04 14:07:58.156 +07:00 [ERR] HTTP GET /api/Users/me responded 500 in 126.0138 ms
2025-05-04 14:07:58.164 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:07:58.167 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/api/Users/me - 500 null text/plain; charset=utf-8 156.3901ms
2025-05-04 14:08:37.464 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/api/Users/me - null null
2025-05-04 14:08:37.469 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/me'
2025-05-04 14:08:37.471 +07:00 [DBG] Endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)' with route pattern 'api/Users/me' is valid for the request path '/api/Users/me'
2025-05-04 14:08:37.474 +07:00 [DBG] Request matched endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:08:37.476 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-04 14:08:37.485 +07:00 [INF] Failed to validate the token.
Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
 ---> System.ArgumentException: IDX14102: Unable to decode the header '[PII of type 'Microsoft.IdentityModel.Logging.SecurityArtifact' is hidden. For more details, see https://aka.ms/IdentityModel/PII.]' as Base64Url encoded string.
 ---> System.Text.Json.JsonReaderException: '0xC8' is an invalid start of a value. LineNumber: 0 | BytePositionInLine: 0.
   at System.Text.Json.ThrowHelper.ThrowJsonReaderException(Utf8JsonReader& json, ExceptionResource resource, Byte nextByte, ReadOnlySpan`1 bytes)
   at System.Text.Json.Utf8JsonReader.ConsumeValue(Byte marker)
   at System.Text.Json.Utf8JsonReader.ReadFirstToken(Byte first)
   at System.Text.Json.Utf8JsonReader.ReadSingleSegment()
   at System.Text.Json.Utf8JsonReader.Read()
   at Microsoft.IdentityModel.Tokens.Json.JsonSerializerPrimitives.IsReaderAtTokenType(Utf8JsonReader& reader, JsonTokenType tokenType, Boolean advanceReader)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateHeaderClaimSet(Byte[] bytes, Int32 length)
   at Microsoft.IdentityModel.Tokens.Base64UrlEncoding.Decode[T](String input, Int32 offset, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.CreateClaimSet(String rawString, Int32 startIndex, Int32 length, Func`3 action)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   --- End of inner exception stack trace ---
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(String encodedJson)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)
   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)
   --- End of inner exception stack trace ---
2025-05-04 14:08:37.501 +07:00 [INF] Bearer was not authenticated. Failure message: IDX14100: JWT is not well formed, there are no dots (.).
The token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EndcodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.
2025-05-04 14:08:37.502 +07:00 [DBG] Policy authentication schemes  did not succeed
2025-05-04 14:08:37.503 +07:00 [INF] Authorization failed. These requirements were not met:
DenyAnonymousAuthorizationRequirement: Requires an authenticated user.
2025-05-04 14:08:37.507 +07:00 [INF] AuthenticationScheme: Bearer was challenged.
2025-05-04 14:08:37.510 +07:00 [INF] HTTP GET /api/Users/me responded 401 in 33.7295 ms
2025-05-04 14:08:37.512 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:08:37.514 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/api/Users/me - 401 0 null 49.3273ms
2025-05-04 14:08:59.544 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/api/Users/me - null null
2025-05-04 14:08:59.548 +07:00 [DBG] 1 candidate(s) found for the request path '/api/Users/me'
2025-05-04 14:08:59.550 +07:00 [DBG] Endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)' with route pattern 'api/Users/me' is valid for the request path '/api/Users/me'
2025-05-04 14:08:59.571 +07:00 [DBG] Request matched endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:08:59.575 +07:00 [DBG] Static files was skipped as the request already matched an endpoint.
2025-05-04 14:08:59.579 +07:00 [DBG] Successfully validated the token.
2025-05-04 14:08:59.581 +07:00 [DBG] AuthenticationScheme: Bearer was successfully authenticated.
2025-05-04 14:08:59.582 +07:00 [DBG] Authorization was successful.
2025-05-04 14:08:59.583 +07:00 [INF] Executing endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:08:59.585 +07:00 [INF] Route matched with {action = "GetMe", controller = "Users"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetMe() on controller ExchangeDocument.PresentationLayer.Controllers.UsersController (ExchangeDocument).
2025-05-04 14:08:59.588 +07:00 [DBG] Execution plan of authorization filters (in the following order): ["None"]
2025-05-04 14:08:59.589 +07:00 [DBG] Execution plan of resource filters (in the following order): ["None"]
2025-05-04 14:08:59.591 +07:00 [DBG] Execution plan of action filters (in the following order): ["Microsoft.AspNetCore.Mvc.ModelBinding.UnsupportedContentTypeFilter (Order: -3000)","Microsoft.AspNetCore.Mvc.Infrastructure.ModelStateInvalidFilter (Order: -2000)"]
2025-05-04 14:08:59.593 +07:00 [DBG] Execution plan of exception filters (in the following order): ["None"]
2025-05-04 14:08:59.594 +07:00 [DBG] Execution plan of result filters (in the following order): ["Microsoft.AspNetCore.Mvc.Infrastructure.ClientErrorResultFilter (Order: -2000)"]
2025-05-04 14:08:59.596 +07:00 [DBG] Executing controller factory for controller ExchangeDocument.PresentationLayer.Controllers.UsersController (ExchangeDocument)
2025-05-04 14:08:59.597 +07:00 [INF] Executed action ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument) in 1.6952ms
2025-05-04 14:08:59.600 +07:00 [INF] Executed endpoint 'ExchangeDocument.PresentationLayer.Controllers.UsersController.GetMe (ExchangeDocument)'
2025-05-04 14:08:59.601 +07:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'ExchangeDocument.BusinessLayer.Interfaces.Services.IUserService' while attempting to activate 'ExchangeDocument.PresentationLayer.Controllers.UsersController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method162(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-05-04 14:08:59.612 +07:00 [ERR] HTTP GET /api/Users/me responded 500 in 37.1961 ms
2025-05-04 14:08:59.614 +07:00 [DBG] Connection id "0HNCAR8D39D9N" completed keep alive response.
2025-05-04 14:08:59.615 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/api/Users/me - 500 null text/plain; charset=utf-8 71.1563ms
2025-05-04 14:10:38.350 +07:00 [INF] Application is shutting down...
2025-05-04 14:10:38.351 +07:00 [DBG] Hosting stopping
2025-05-04 14:10:38.362 +07:00 [DBG] Connection id "0HNCAR8D39D9N" disconnecting.
2025-05-04 14:10:38.367 +07:00 [DBG] Connection id "0HNCAR8D39D9N" stopped.
2025-05-04 14:10:38.369 +07:00 [DBG] Connection id "0HNCAR8D39D9N" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-04 14:10:38.371 +07:00 [DBG] Hosting stopped
2025-05-04 14:10:39.442 +07:00 [DBG] Registered model binder providers, in the following order: ["Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BinderTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ServicesModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.BodyModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.HeaderModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FloatingPointTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.EnumTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DateTimeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.SimpleTypeModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.TryParseModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CancellationTokenModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ByteArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormFileModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.FormCollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.KeyValuePairModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.DictionaryModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ArrayModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.CollectionModelBinderProvider","Microsoft.AspNetCore.Mvc.ModelBinding.Binders.ComplexObjectModelBinderProvider"]
2025-05-04 14:10:39.527 +07:00 [DBG] Hosting starting
2025-05-04 14:10:39.537 +07:00 [INF] User profile is available. Using 'C:\Users\KHOA\AppData\Local\ASP.NET\DataProtection-Keys' as key repository and Windows DPAPI to encrypt keys at rest.
2025-05-04 14:10:39.547 +07:00 [DBG] Reading data from file 'C:\Users\KHOA\AppData\Local\ASP.NET\DataProtection-Keys\key-1a51a872-ea43-4350-815f-0422835a65dd.xml'.
2025-05-04 14:10:39.553 +07:00 [DBG] Found key {1a51a872-ea43-4350-815f-0422835a65dd}.
2025-05-04 14:10:39.561 +07:00 [DBG] Considering key {1a51a872-ea43-4350-815f-0422835a65dd} with expiration date 2025-07-05 19:31:04Z as default key.
2025-05-04 14:10:39.563 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.XmlEncryption.DpapiXmlDecryptor, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-04 14:10:39.565 +07:00 [DBG] Decrypting secret element using Windows DPAPI.
2025-05-04 14:10:39.566 +07:00 [DBG] Forwarded activator type request from Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Version=8.0.0.0, Culture=neutral, PublicKeyToken=adb9793829ddae60 to Microsoft.AspNetCore.DataProtection.AuthenticatedEncryption.ConfigurationModel.AuthenticatedEncryptorDescriptorDeserializer, Microsoft.AspNetCore.DataProtection, Culture=neutral, PublicKeyToken=adb9793829ddae60
2025-05-04 14:10:39.571 +07:00 [DBG] Opening CNG algorithm 'AES' from provider 'null' with chaining mode CBC.
2025-05-04 14:10:39.573 +07:00 [DBG] Opening CNG algorithm 'SHA256' from provider 'null' with HMAC.
2025-05-04 14:10:39.574 +07:00 [DBG] Using key {1a51a872-ea43-4350-815f-0422835a65dd} as the default key.
2025-05-04 14:10:39.575 +07:00 [DBG] Key ring with default key {1a51a872-ea43-4350-815f-0422835a65dd} was loaded during application startup.
2025-05-04 14:10:39.621 +07:00 [INF] Now listening on: http://localhost:5120
2025-05-04 14:10:39.622 +07:00 [DBG] Loaded hosting startup assembly ExchangeDocument
2025-05-04 14:10:39.622 +07:00 [INF] Application started. Press Ctrl+C to shut down.
2025-05-04 14:10:39.622 +07:00 [INF] Hosting environment: Development
2025-05-04 14:10:39.622 +07:00 [INF] Content root path: D:\Gộp module Auth\ExchangeDocument(Tự làm Auth_User) - Đã làm logout(2)\ExchangeDocument
2025-05-04 14:10:39.622 +07:00 [DBG] Hosting started
2025-05-04 14:12:42.708 +07:00 [DBG] Connection id "0HNCARC7VMRF7" accepted.
2025-05-04 14:12:42.709 +07:00 [DBG] Connection id "0HNCARC7VMRF7" started.
2025-05-04 14:12:42.710 +07:00 [DBG] Connection id "0HNCARC7VMRF8" accepted.
2025-05-04 14:12:42.710 +07:00 [DBG] Connection id "0HNCARC7VMRF8" started.
2025-05-04 14:12:42.734 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/swagger/index.html - null null
2025-05-04 14:12:42.736 +07:00 [DBG] Wildcard detected, all requests with hosts will be allowed.
2025-05-04 14:12:42.748 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-04 14:12:42.748 +07:00 [DBG] Request did not match any endpoints
2025-05-04 14:12:42.870 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 118.9363 ms
2025-05-04 14:12:42.871 +07:00 [DBG] Connection id "0HNCARC7VMRF7" completed keep alive response.
2025-05-04 14:12:42.872 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/swagger/index.html - 200 null text/html;charset=utf-8 138.9931ms
2025-05-04 14:12:43.306 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/swagger/v1/swagger.json - null null
2025-05-04 14:12:43.308 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-04 14:12:43.308 +07:00 [DBG] Request did not match any endpoints
2025-05-04 14:12:43.475 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 166.5553 ms
2025-05-04 14:12:43.476 +07:00 [DBG] Connection id "0HNCARC7VMRF7" completed keep alive response.
2025-05-04 14:12:43.476 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 170.2872ms
2025-05-04 14:13:54.556 +07:00 [DBG] Connection id "0HNCARC7VMRF9" accepted.
2025-05-04 14:13:54.556 +07:00 [DBG] Connection id "0HNCARC7VMRF8" received FIN.
2025-05-04 14:13:54.556 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/swagger/index.html - null null
2025-05-04 14:13:54.556 +07:00 [DBG] Connection id "0HNCARC7VMRF9" started.
2025-05-04 14:13:54.556 +07:00 [DBG] No candidates found for the request path '/swagger/index.html'
2025-05-04 14:13:54.556 +07:00 [DBG] Request did not match any endpoints
2025-05-04 14:13:54.557 +07:00 [DBG] Connection id "0HNCARC7VMRF8" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-04 14:13:54.558 +07:00 [INF] HTTP GET /swagger/index.html responded 200 in 1.2491 ms
2025-05-04 14:13:54.558 +07:00 [DBG] Connection id "0HNCARC7VMRF7" completed keep alive response.
2025-05-04 14:13:54.558 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/swagger/index.html - 200 null text/html;charset=utf-8 1.7345ms
2025-05-04 14:13:54.558 +07:00 [DBG] Connection id "0HNCARC7VMRF8" disconnecting.
2025-05-04 14:13:54.559 +07:00 [DBG] Connection id "0HNCARC7VMRF8" stopped.
2025-05-04 14:13:54.751 +07:00 [INF] Request starting HTTP/1.1 GET http://localhost:5120/swagger/v1/swagger.json - null null
2025-05-04 14:13:54.751 +07:00 [DBG] No candidates found for the request path '/swagger/v1/swagger.json'
2025-05-04 14:13:54.751 +07:00 [DBG] Request did not match any endpoints
2025-05-04 14:13:54.770 +07:00 [INF] HTTP GET /swagger/v1/swagger.json responded 200 in 19.1239 ms
2025-05-04 14:13:54.770 +07:00 [DBG] Connection id "0HNCARC7VMRF7" completed keep alive response.
2025-05-04 14:13:54.771 +07:00 [INF] Request finished HTTP/1.1 GET http://localhost:5120/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.8473ms
2025-05-04 14:15:22.935 +07:00 [DBG] Connection id "0HNCARC7VMRF9" received FIN.
2025-05-04 14:15:22.936 +07:00 [DBG] Connection id "0HNCARC7VMRF9" disconnecting.
2025-05-04 14:15:22.936 +07:00 [DBG] Connection id "0HNCARC7VMRF9" sending FIN because: "The Socket transport's send loop completed gracefully."
2025-05-04 14:15:22.937 +07:00 [DBG] Connection id "0HNCARC7VMRF9" stopped.
2025-05-04 14:16:05.877 +07:00 [DBG] Connection id "0HNCARC7VMRF7" disconnecting.
2025-05-04 14:16:05.877 +07:00 [DBG] Connection id "0HNCARC7VMRF7" stopped.
2025-05-04 14:16:05.878 +07:00 [DBG] Connection id "0HNCARC7VMRF7" sending FIN because: "The Socket transport's send loop completed gracefully."
